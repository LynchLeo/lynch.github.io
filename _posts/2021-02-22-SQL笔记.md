---
layout:     post
title:      SQL笔记
subtitle:   语句
date:       2021-02-22
author:     LynchLeo
header-img: img/post-web.jpg
catalog: true
tags:
    - SQL
---

# 前言

随笔，使用网站https://www.db-book.com/db7/university-lab-dir/sqljs.html

# 基础语句

## SELECT

从数据库中选取数据。

格式：

```sql
SELECT column_name,column_name 
FROM table_name;
```

实际运用：

```sql
SELECT * FROM section;
SELECT course_id FROM section;
SELECT course_id, room_number FROM section;
```
### DISTINCT

列出不重复的值。

```sql
SELECT DISTINCT * FROM section;
SELECT DISTINCT sec_id FROM section;
SELECT DISTINCT sec_id, building FROM section;
```

## WHERE

提取满足指定条件的记录。

格式：

```sql
SELECT column_name,column_name 
FROM table_name 
WHERE column_name operator value;
```
实际运用：

```sql
-- 文本须加引号，区分大小写。
SELECT * FROM section WHERE semester = 'Fall';
-- 错误的写法: SELECT * FROM section WHERE semester = Fall;

-- 数值可以加引号，最好不加。
SELECT * FROM section WHERE sec_id = 2;
SELECT * FROM section WHERE sec_id = '2';
```

### 等于

= 或 IS

```sql
SELECT * FROM section WHERE sec_id IS NULL;
```

### 不等于

<> 或 !=

```sql
SELECT * FROM section WHERE sec_id <> 1;
```

### 比较

< ， > ， <= ， >=

```sql
SELECT * FROM time_slot WHERE start_hr > 13;
```

### 范围

包含边界。

BETWEEN ... AND ...

```sql
SELECT * FROM time_slot WHERE start_hr BETWEEN 13 AND 16;
```

### 模糊查询

LIKE 加 % 或 \_，% 表示多个字符，\_ 表示一个字符

```sql
SELECT * FROM instructor WHERE dept_name LIKE '%sic%';
SELECT * FROM instructor WHERE dept_name LIKE 'His%';
SELECT * FROM instructor WHERE dept_name LIKE '%o_y';
```

### 查询多个值

IN()

和 OR 加 等于 一个效果

```sql
SELECT * FROM instructor WHERE dept_name IN('Music', 'History');
SELECT * FROM instructor WHERE dept_name IS 'Music' OR dept_name IS 'History';
```

### 逻辑

优先级：() > NOT > AND > OR

```sql
SELECT * FROM instructor WHERE salary > 70000 AND NOT dept_name LIKE '%sic%';
```
